ç®€è¦æ¦‚è¿°ï¼š
Messaging Layer Securityï¼ˆMLSï¼‰åè®®æ˜¯ä¸€ç§å¯†é’¥å»ºç«‹åè®®ï¼Œæ—¨åœ¨ä¸ºä½¿ç”¨ç«¯åˆ°ç«¯å®‰å…¨æœºåˆ¶çš„æ¶ˆæ¯åº”ç”¨ç¨‹åºæä¾›æœåŠ¡ã€‚è¯¥åè®®ç¡®ä¿æ¶ˆæ¯ä»…å¯¹é€šä¿¡ç«¯ç‚¹å¯è®¿é—®ï¼Œè€Œä¸å¯¹ä¼ é€’æ¶ˆæ¯çš„ä»»ä½•æœåŠ¡å™¨å¯è®¿é—®ã€‚è¯¥åè®®æ—¨åœ¨ä¸ºå¤§å°ä»ä¸¤ä¸ªåˆ°æ•°åƒä¸ªçš„ç¾¤ç»„æä¾›é«˜æ•ˆçš„å¼‚æ­¥ç¾¤ç»„å¯†é’¥å»ºç«‹ï¼Œå…·æœ‰å‰å‘ä¿å¯†æ€§å’Œåç½®å¦¥åå®‰å…¨æ€§ã€‚

äº®ç‚¹ï¼š
- ğŸ”’ è¯¥åè®®ä½¿ç”¨æ ‘ç»“æ„ï¼Œå®ç°å¼‚æ­¥ç¾¤ç»„å¯†é’¥å»ºç«‹ï¼Œå…·æœ‰å‰å‘ä¿å¯†æ€§å’Œåç½®å¦¥åå®‰å…¨æ€§ã€‚
- ğŸŒ³ æ ‘ç»“æ„åŸºäºéå¯å¡‘çš„æ£˜è½®æ ‘ï¼Œç”¨äºæ´¾ç”Ÿç”¨äºåŠ å¯†å’ŒéªŒè¯ç¾¤ç»„æˆå‘˜ä¹‹é—´äº¤æ¢çš„æ¶ˆæ¯çš„å¯†é’¥ã€‚
- ğŸ¤ åè®®å®šä¹‰äº†å®¢æˆ·ç«¯ã€ç¾¤ç»„ã€æ—¶æœŸã€æˆå‘˜ã€å¯†é’¥åŒ…å’Œç¾¤ç»„ä¸Šä¸‹æ–‡ç­‰å…³é”®æ¦‚å¿µã€‚
- ğŸ“œ åè®®å®šä¹‰äº†æ·»åŠ ã€åˆ é™¤ã€æ›´æ–°å’Œæäº¤ç­‰å…³é”®æ“ä½œï¼Œä»¥åŠGroupInfoã€Welcomeå’ŒMLSPlaintextç­‰å…³é”®æ¶ˆæ¯ã€‚
- ğŸ”‘ åè®®è¿˜å®šä¹‰äº†å‰å‘ä¿å¯†æ€§ã€åç½®å¦¥åå®‰å…¨æ€§å’Œå¯†é’¥ç¡®è®¤ç­‰å…³é”®å®‰å…¨å±æ€§ã€‚
- ğŸ’¬ è¯¥åè®®é€‚ç”¨äºå„ç§åº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬å®‰å…¨ç¾¤ç»„æ¶ˆæ¯ã€åä½œç¼–è¾‘å’Œå®æ—¶é€šä¿¡ã€‚
- ğŸš€ åè®®è¢«è®¾è®¡ä¸ºæä¾›æ¶ˆæ¯çš„æœºå¯†æ€§ã€å®Œæ•´æ€§å’ŒçœŸå®æ€§ï¼Œä»è€Œæˆä¸ºå®‰å…¨çš„ç¾¤ç»„æ¶ˆæ¯åè®®ã€‚

### Detailed Summary
The Messaging Layer Security (MLS) Protocol is a key establishment protocol designed for messaging applications that use end-to-end security mechanisms. The protocol ensures that messages are only accessible to the communicating endpoints and not to any servers involved in delivering messages. The key establishment protocol is designed to provide efficient asynchronous group key establishment with forward secrecy and post-compromise security for groups ranging in size from two to thousands.

The protocol uses a tree structure that enables asynchronous group keying with forward secrecy and post-compromise security. Based on earlier work on "asynchronous ratcheting trees," the protocol presented here uses an asynchronous key-encapsulation mechanism for tree structures. This mechanism allows the members of the group to derive and update shared keys with costs that scale as the log of the group size.

The protocol defines several key concepts, including clients, groups, epochs, members, key packages, and group context. A client is an agent that uses the protocol to establish shared cryptographic state with other clients. A group represents a logical collection of clients that share a common secret value at any given time. An epoch is a state of a group in which a specific set of authenticated clients hold shared cryptographic state. A member is a client that is included in the shared state of a group, hence has access to the group's secrets. A key package is a signed object describing a client's identity and capabilities, and including a hybrid public-key encryption (HPKE) public key that can be used to encrypt to that client, and which other clients can use to introduce the client to a new group. A group context is an object that summarizes the shared, public state of the group.

The protocol uses a tree structure to represent the shared cryptographic state of the group. The tree structure is used to derive keys for encrypting and authenticating messages exchanged between group members. The tree structure is based on a ratchet tree that is non-malleable. The protocol uses ExpandWithLabel to derive the welcome key. The MLS-Exporter label is changed from "exporter" to "exported". The chain requirements are loosened, and the transcript hash initialization is clarified. The protocol uses GREASE for MLS registries and moves pseudocode out of KDFLabel definition. The PrivateContentTBE is renamed to PrivateMessageContent, and the DecryptWithLabel argument order for Welcome is fixed. The protocol is made standards track, and the ratchet tree is made non-malleable.

The protocol defines several key operations, including Add, Remove, Update, and Commit. The Add operation is used to add a new member to the group. The Remove operation is used to remove a member from the group. The Update operation is used to update the shared cryptographic state of the group. The Commit operation is used to commit a set of proposals to the group's shared cryptographic state. The protocol also defines several key messages, including GroupInfo, Welcome, and MLSPlaintext. The GroupInfo message is used to distribute the group context to new members. The Welcome message is used to introduce a new member to the group. The MLSPlaintext message is used to exchange encrypted and authenticated messages between group members.

The protocol also defines several key security properties, including forward secrecy, post-compromise security, and key confirmation. Forward secrecy ensures that compromise of a long-term key does not compromise past or future messages. Post-compromise security ensures that compromise of a member's key does not compromise the security of the group. Key confirmation ensures that a member's key is confirmed by other members of the group before it is used to encrypt or authenticate messages.

In conclusion, the Messaging Layer Security (MLS) protocol is a secure group messaging protocol that enables multiple clients to establish shared cryptographic state. The protocol is based on a tree structure that represents the shared cryptographic state of the group. The protocol defines several key concepts, operations, messages, and security properties. The protocol is designed to provide confidentiality, integrity, and authenticity of messages exchanged between group members. The protocol is suitable for use in a wide range of applications, including secure group messaging, collaborative editing, and real-time communication.